"use strict";(self.webpackChunkmy_site=self.webpackChunkmy_site||[]).push([[620],{1173:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"design/system-design","title":"System Design","description":"Feedback Use Case Description","source":"@site/docs/design/system-design.md","sourceDirName":"design","slug":"/design/system-design","permalink":"/design/system-design","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docSidebar","previous":{"title":"Requirements Specification","permalink":"/design/requirements-spec"},"next":{"title":"Data Model","permalink":"/design/data-model"}}');var n=i(4848),o=i(8453);const r={sidebar_position:4},a="System Design",c={},d=[{value:"Feedback Use Case Description",id:"feedback-use-case-description",level:2},{value:"System Block Diagram",id:"system-block-diagram",level:2}];function u(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"system-design",children:"System Design"})}),"\n",(0,n.jsx)(t.h2,{id:"feedback-use-case-description",children:"Feedback Use Case Description"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"A feedback provider (teacher or TA) visits the Docusaurus documentation site."}),"\n",(0,n.jsx)(t.li,{children:'The feedback provider clicks on a comments widget ("Sign in with GitHub" or similar) which leverages GitHub authentication and permissions.'}),"\n",(0,n.jsx)(t.li,{children:"The widget (client-side comments widget similar to giscus or utterances) creates or fetches a Discussion/Issue on GitHub that represents the page or an anchored comment thread."}),"\n",(0,n.jsx)(t.li,{children:"The feedback provider navigates to a specific documentation page and selects a section to provide feedback on."}),"\n",(0,n.jsx)(t.li,{children:"The feedback provider submits their feedback comment; the widget posts it as a GitHub Issue comment or Discussion reply."}),"\n",(0,n.jsx)(t.li,{children:"The comment is rendered inline on the documentation page by the widget, and visibility is governed by the GitHub repository/discussion visibility (private repo/discussion) and team membership."}),"\n",(0,n.jsx)(t.li,{children:"Students who are members of the GitHub repository's team can also view and reply to the feedback comments via the same widget (or directly in GitHub if preferred)."}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-mermaid",children:'sequenceDiagram\n    title Highlevel Sequence Diagram for Docusaurus Feedback System (GitHub Issues/Discussions backend)\n    actor FeedbackProvider\n    participant DocusaurusSite\n    participant CommentsWidget as "Comments Widget (giscus/utterances-style)"\n    participant GitHubOAuth\n    participant GitHubAPI as "GitHub Issues/Discussions"\n    actor Student\n\n    FeedbackProvider->>DocusaurusSite: Visit documentation site\n    DocusaurusSite--\x3e>FeedbackProvider: Load page and comments widget\n    FeedbackProvider->>CommentsWidget: Click "Sign in with GitHub"\n    CommentsWidget->>GitHubOAuth: Initiate OAuth flow (widget or GitHub App)\n    GitHubOAuth--\x3e>FeedbackProvider: Redirect to GitHub for authentication\n    FeedbackProvider->>GitHubOAuth: Provide GitHub credentials\n    GitHubOAuth--\x3e>CommentsWidget: Return token / grant\n    CommentsWidget->>GitHubAPI: Verify user and repo/discussion access\n    GitHubAPI--\x3e>CommentsWidget: Return authorization and existing threads\n    note right of DocusaurusSite: Feedback provider is now authenticated in the widget\n    FeedbackProvider->>DocusaurusSite: Select section and submit feedback\n    DocusaurusSite->>CommentsWidget: Post comment (Issue comment or Discussion reply)\n    CommentsWidget->>GitHubAPI: Create comment (Issue/Discussion) with anchors/metadata\n    GitHubAPI--\x3e>CommentsWidget: Confirm comment created\n    CommentsWidget--\x3e>DocusaurusSite: Render comment inline\n    Student->>DocusaurusSite: Visit documentation page\n    DocusaurusSite--\x3e>CommentsWidget: Fetch comments for page thread\n    CommentsWidget->>GitHubAPI: Query Issue/Discussion comments\n    GitHubAPI--\x3e>CommentsWidget: Return comments (visible per repo/permission)\n    DocusaurusSite--\x3e>Student: Display documentation page with feedback\n    Student->>DocusaurusSite: Reply to feedback comment\n    DocusaurusSite->>CommentsWidget: Post reply\n    CommentsWidget->>GitHubAPI: Store reply as Issue/Discussion comment\n    GitHubAPI--\x3e>CommentsWidget: Confirm reply stored\n    CommentsWidget--\x3e>DocusaurusSite: Display reply inline\n'})}),"\n",(0,n.jsx)(t.h2,{id:"system-block-diagram",children:"System Block Diagram"}),"\n",(0,n.jsx)(t.p,{children:'The goal is to avoid building and maintaining a separate server-backed application. Instead, we embed a client-side comments widget into the Docusaurus site. That widget interacts directly with GitHub Issues or Discussions (the "backend" in this design) for storage, authentication, and permissions.'}),"\n",(0,n.jsx)(t.p,{children:"Key points:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Comments and replies are stored in GitHub Issues or Discussions. That means visibility and access are governed by the repository's visibility (private repo = repo members only) and GitHub teams."}),"\n",(0,n.jsx)(t.li,{children:"The embedded widget (open-source options exist: giscus, utteranc.es, or a custom widget) handles the OAuth handshake (or uses a GitHub App) and posts/fetches comments via the GitHub API."}),"\n",(0,n.jsx)(t.li,{children:"No dedicated application server is required for basic operation; the static site + widget + GitHub API handles the workflow."}),"\n"]}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-mermaid",children:'block-beta\ncolumns 1\n    block columns 3\n        OAUTH["GitHub OAuth / GitHub App"]\n        space\n        Docusaurus["Docusaurus Site (static)"]\n        CommentsWidget["Embedded Comments Widget (giscus/utterances-style)"]\n    end\n    space\n    block columns 3\n        GitHub["GitHub Issues / Discussions"]\n        left<["store comments\\nand thread metadata"]>(left)\n        GitHubAPI["GitHub API"]\n    end\n\n    Docusaurus --"embed widget"--\x3e CommentsWidget\n%%    CommentsWidget --"OAuth / API calls"--\x3e OAUTH\n    CommentsWidget --"create/fetch comments"--\x3e GitHubAPI\n'})}),"\n",(0,n.jsx)(t.p,{children:"If a small server-side component is required (for example, to manage a GitHub App private key, perform advanced access-control filtering, or mirror comments into another system), it should be intentionally minimal and serverless (GitHub Actions, Cloudflare Workers, or a tiny AWS Lambda) and only added if the GitHub-only approach cannot meet a concrete requirement. For most classroom uses, using private repositories or private discussion categories will provide the necessary access controls without introducing a full backend."})]})}function m(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>r,x:()=>a});var s=i(6540);const n={},o=s.createContext(n);function r(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);